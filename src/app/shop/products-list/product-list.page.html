<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button [routerLink]="'/home'">
        <ion-icon name="home"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>
      {{ 'Products List' | translate }}
    </ion-title>
  </ion-toolbar>
  <!-- <ion-toolbar>
    <ion-segment value="all">
      <ion-segment-button value="amigao">
        Amigao
      </ion-segment-button>
      <ion-segment-button value="joanita">
        Joanita
      </ion-segment-button>
      <ion-segment-button value="mirao">
        Mir√£o
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar> -->
</ion-header>

<ion-content *ngIf="viewState$ | async as vs">

  <div class="card">
    <p-dataView #dv [value]="vs.productList" [paginator]="true" [rows]="9" filterBy="title" [sortField]="sortField"
      [sortOrder]="sortOrder" layout="grid">

      <ng-template pTemplate="header">
        <ion-toolbar color="warning">
          <p-dropdown [options]="sortOptions" [(ngModel)]="sortKey" placeholder="Sort By Price"
              (onChange)="onSortChange($event)" styleClass="mb-2 md:mb-0"></p-dropdown>
            <span class="">
              <i class="pi pi-search"></i>
              <input type="search" pInputText placeholder="Search by Name" (input)="dv.filter($event.target.value)">
            </span>
            <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
        </ion-toolbar>
      </ng-template>

      <ng-template let-product pTemplate="listItem">
        <div class="product-list-item" (click)="navigateToProductDetails(product)">

          <img [src]="product.thumbnail" [alt]="product.title" />

          <div class="product-list-detail">
            <div class="product-name">{{product.title}}</div>
            <div class="product-description">{{product.description}}</div>
            <p-rating [ngModel]="product.rating" [readonly]="true" [cancel]="false"></p-rating>
            <i class="pi pi-tag product-category-icon"></i><span class="product-category">{{product.category}}</span>
          </div>

          <div class="product-list-action">
            <span class="product-price">${{product.price}}</span>
            <p-button icon="pi pi-shopping-cart" label="Add to Cart"
              [disabled]="product.inventoryStatus === 'OUTOFSTOCK'"></p-button>
            <!-- <span
              [class]="'product-badge status-' + product.inventoryStatus.toLowerCase()">{{product.inventoryStatus}}</span> -->
          </div>

        </div>
      </ng-template>

      <ng-template let-product pTemplate="gridItem">
        <div class="product-grid-item card" (click)="navigateToProductDetails(product)">

          <div class="product-grid-item-top">
            <div>
              <i class="pi pi-tag product-category-icon"></i>
              <!-- <span class="product-category">{{product.category}}</span> -->
            </div>
            <!-- <span [class]="''">{{product.inventoryStatus}}</span> -->
          </div>

          <div class="product-grid-item-content">
            <img [src]="product.thumbnail" [alt]="product.title" />
            <div class="product-name">{{product.title}}</div>
            <div class="product-description">{{product.description}}</div>
            <p-rating [ngModel]="product.rating" [readonly]="true" [cancel]="false"></p-rating>
          </div>

          <div class="product-grid-item-bottom">
            <span class="product-price">${{product.price}}</span>
            <p-button icon="pi pi-shopping-cart" [disabled]="product.inventoryStatus === 'OUTOFSTOCK'"></p-button>
          </div>

        </div>
      </ng-template>

    </p-dataView>
  </div>





  <!-- <p-orderList [value]="vs.productList" [listStyle]="{'height':'auto'}" header="List of Products" filterBy="title"
    filterPlaceholder="Filter by name" [dragdrop]="false" controlsPosition="right">
    <ng-template let-product pTemplate="item">
      <div class="product-item">
        <img [src]="product.thumbnail" style="display:inline-block;margin:2px 0 2px 2px" width="48">

        <div class="product-list-detail">
          <h5 class="mb-2">{{product.title}}</h5>
          <i class="pi pi-tag product-category-icon"></i>
          <span class="product-category">{{product.category}}</span>
        </div>

        <div class="product-list-action">
          <h6 class="mb-2">${{ 'Price' }}</h6>
        </div>

      </div>
    </ng-template>
  </p-orderList>

  <ion-grid>
    <ion-row>
      <ion-col *ngFor="let product of vs.productList">
        <ion-item>
          <ion-thumbnail>
            <img [src]="product.thumbnail" />
          </ion-thumbnail>
          <ion-label>{{ product.title }}</ion-label>
          <ion-note color="primary" slot="end" (click)="navigateToProductDetails(product)"> View </ion-note>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid> -->
</ion-content>